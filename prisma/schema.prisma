generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model order {
  orderId       Int        @id @default(autoincrement()) @map("order_id")
  fkWalletId    Int?       @map("fk_wallet_id")
  fkStockTicker String     @map("fk_stock_ticker") @db.VarChar(15)
  type          order_type
  date          DateTime   @default(now()) @db.Timestamp(0)
  stockPrice    Float      @map("stock_price")
  stockShares   Float      @map("stock_shares")
}

model player {
  playerId Int      @id @default(autoincrement()) @map("player_id")
  name     String   @db.VarChar(100)
  email    String   @unique(map: "email_UNIQUE") @db.VarChar(45)
  phone    String   @unique(map: "phone_UNIQUE") @db.VarChar(45)
  password String   @db.Char(60)
}

model stock {
  stockTicker      String           @id @map("stock_ticker") @db.VarChar(15)
  name             String           @db.VarChar(60)
  description      String?          @db.VarChar(254)
  currentPrice     Float?           @map("current_price")
  percentChange    Float?           @map("percent_change")
  lastUpdated      DateTime         @default(now()) @map("last_updated") @db.Timestamp(0)
}

model transfer {
  transferId                           Int      @id @default(autoincrement()) @map("transfer_id")
  fkWalletFrom                         Int      @map("fk_wallet_from")
  fkWalletTo                           Int      @map("fk_wallet_to")
  date                                 DateTime @db.DateTime(0)
  amount                               Float
}

model wallet {
  walletId                                 Int              @id @default(autoincrement()) @map("wallet_id")
  fkPlayerId                               Int              @map("fk_player_id")
  nickname                                 String           @db.VarChar(45)
  balance                                  Float
  created                                  DateTime         @db.DateTime(0)
  }

model WalletHasStock {
  walletHasStockId Int    @id @default(autoincrement()) @map("wallet_has_stock_id")
  fkWalletId       Int    @map("fk_wallet_id")
  fkStockTicker    String @map("fk_stock_ticker") @db.VarChar(15)
  stockShares      Float  @map("stock_shares")
  avgPrice         Float  @map("avg_price")
}

enum order_type {
  BUY
  SELL
}
